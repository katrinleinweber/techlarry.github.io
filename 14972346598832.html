<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  --- - techlarry
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="techlarry" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:larryim.cc ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="_self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        <li id=""><a target="_self" href="about.html">About</a></li>
        
        <li id=""><a target="_self" href="category.html">Category</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; techlarry</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
       
       <li><a href="index.html">HOME</a></li>
    <li><a href="archives.html">Archives</a></li>
    <li><a href="about.html">ABOUT</a></li>

    <li><label>Categories</label></li>

        
            <li><a href="Python%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80.html">Python语法基础</a></li>
        
            <li><a href="Python%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.html">Python数据结构与算法</a></li>
        
            <li><a href="Python%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B.html">Python高级编程</a></li>
        
            <li><a href="%E7%82%B9%E7%82%B9%E6%BB%B4%E6%BB%B4.html">点点滴滴</a></li>
        
            <li><a href="%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html">机器学习</a></li>
        
            <li><a href="Linux%20%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B.html">Linux 系统编程</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
  $(function(){
    $('#menu_item_index').addClass('is_active');
  });
</script>
<div class="row">
  <div class="large-8 medium-8 columns">
      <div class="markdown-body article-wrap">
       <div class="article">
          
          <h1>---</h1>
     
        <div class="read-more clearfix">
          <span class="date">2017/6/12</span>

          <span>posted in&nbsp;</span> 
          
              <span class="posted-in"><a href='%E7%82%B9%E7%82%B9%E6%BB%B4%E6%BB%B4.html'>点点滴滴</a></span>
           
         
          <span class="comments">
            

            
          </span>

        </div>
      </div><!-- article -->

      <div class="article-content">
      <p>title: Cython教程<br/>
author: larry<br/>
date: 2014-07-15</p>

<h2 id="toc_0">slug: Cython-tutorial</h2>

<p>翻译自 <a href="http://docs.cython.org/src/tutorial/index.html">Cython<br/>
Tutorials</a>，删除了部分冗余内容。</p>

<h2 id="toc_1">1基本教程</h2>

<h3 id="toc_2">1.1Cython基础</h3>

<p>Cython的基本本质可以总结为：Cython是带有C数据类型的Python。<br/>
Cython是Python：几乎所有Python代码在Cython中都有效。Cython编译器把Python代码转换为C代码。<br/>
但是Cython不仅仅局限于此，因为Cython的变量和参数可以声明为C数据类型。处理Python和C值的代码可以自由混合，并且代码之间的转换是自动的。引用计数维护和Python操作符的错误检测都是自动的，并且处理（包括<code>try-except</code><br/>
和<code>try-finally</code><br/>
语句）组件的Python异常都是可用的，甚至在处理C数据中间时。</p>

<h3 id="toc_3">1.2Cython世界你好</h3>

<p>因为Cython能够接受几乎所有有效的Python源文件，入门的最困难的一件事情是弄清楚怎样编译。<br/>
所以让我们从权威的Python hello world 开始：</p>

<pre><code class="language-{.sourceCode">print &quot;Hello World&quot;
</code></pre>

<p>保存代码为文件名<code>helloworld.pyx</code>。现在我们需要新建文件<code>setup.py</code><br/>
，看起来像Python Makefile。你的<code>Setu.py</code>看起来像这样：</p>

<pre><code class="language-{.sourceCode">from distutils.core import setup
from Cython.Build import cythonize

setup(
    ext_modules = cythonize(&quot;helloworld.pyx&quot;)
)
</code></pre>

<p>使用命令行选项构建Cython文件：</p>

<pre><code class="language-{.sourceCode">python setup.py build_ext --inplace
</code></pre>

<p>会在目录中生成一个<code>helloworld.so</code> (unix)或者<code>helloworld.dll</code><br/>
(windows)文件。现在来使用它：打开Python编译器，像常规Python模块那样导入它：</p>

<pre><code class="language-{.sourceCode">&gt;&gt;&gt; import hello world
Hello World
</code></pre>

<h3 id="toc_4">1.3语言规则</h3>

<p>查看Cython基本语言规则。</p>

<h2 id="toc_5">2调用C函数</h2>

<p>这部分教程简短的描述了从Cython代码中调用C函数库时，你需要了解的内容。如果你需要了解有关使用外部C函数库、抓取并处理错误的综合教程，请看Using<br/>
C libraries.<br/>
简单地，我们从标准C库的函数开始。这不会给你的代码增加任何依赖性，并且具有Cython已经为你定义好了许多函数的优势。所以你只需要cimport，然后就可以使用。<br/>
举例来说，假如你需要用低层次方式从一个char*值解析数值。你可以使用<br/>
<code>atoi()</code> 函数，它已经被<code>stdlib.h</code> 头文件定义。可以这样做：</p>

<pre><code class="language-{.sourceCode">from libc.stdlib comport atoi

cdef parse_charpter_to_py_int(char* s):
    assert s is not NULL, &quot;byte string value is NULL&quot;
    return atoi(s)  # note : atoi() has no error detection!
</code></pre>

<p>在Cython源代码包<code>Cython/Includes/</code> 目录中你可以找到所有的标准<code>cimport</code><br/>
文件。它也有完整的Cython的C-API声明。举例来说，在C编译时间测试你的代码使用哪种Python版本编译，你可以：</p>

<pre><code class="language-{.sourceCode">from python.version cimport PY_VERSION_HEX
print PY_VERSION_HEX &gt;= 0x030200F0 #Python version &gt;= final
</code></pre>

<p>Cython也为C的<code>math</code> 库提供了声明：</p>

<pre><code class="language-{.sourceCode">from libc.math cimport sin

cdef double f(double x):\
    return sin(x*x)
</code></pre>

<h3 id="toc_6">2.1动态链接</h3>

<p>libc的<code>math</code><br/>
库很特别，在默认情况下，在unix-like系统，例如Linux上，<code>math</code><br/>
库是没有被链接的。除了cimport声明，你必须配置你的构建系统，是链接到分享库m。对于distutils，增加Extension()、setup的libraries参数就足够了：</p>

<pre><code class="language-{.sourceCode">from distutils.core import setup
from distutils.extension import Extension
from Cython.Distutils import build_ext

ext_modules=[
    Extension(&quot;demo&quot;,
          [&quot;demo.pyx&quot;],
          libraries=[&quot;m&quot;]) # Unix-like specific
]

setup(
name = &quot;Demos&quot;,
cmdclass = {&quot;build_ext&quot;: build_ext},
ext_modules = ext_modules
)
</code></pre>

<h3 id="toc_7">2.2外部声明</h3>

<p>如果你想获取C代码，但是Cython没有提供一个现成的声明，你必须自己声明。例如，上面的<code>sin()</code><br/>
函数被定义成： :</p>

<pre><code>cdef extern from &quot;math.h&quot;：
    double sin(double x)
</code></pre>

<p>这里声明<code>sin()</code> 函数，使Cython代码可用，指示Cython产生包括<code>math.h</code><br/>
头文件的C代码。C编译器在编译时会看到<code>math.h</code><br/>
内的原始声明，并调用到任何C库，只要Cython产生的模块正确链接到共享库或静态库。</p>

<h3 id="toc_8">2.3参数命名</h3>

<p>C和Cython都支持没有参数名的声明：</p>

<pre><code class="language-{.sourceCode">cdef extern from &quot;string.h&quot;:
    char* strstr( const char*, const char* )
</code></pre>

<p>但是，这会阻止Cython代码调用关键字参数（从Cython<br/>
0.19被支持），因此这样写声明更好：</p>

<pre><code class="language-{.sourceCode">cdef extern from &quot;string.h&quot;:
    char* strstr( const char *haystack, const char *needle )
</code></pre>

<p>你现在清楚下面的两个参数中的那个参数调用，因此阻止任何歧义，使你的代码更加具有可读性：</p>

<pre><code class="language-{.sourceCode">cdef char* data = &quot;hfvcakdfagbcffvschvxcdfgccbcfhvgcsnfxjh&quot;

pos = strstr( needle=&#39;akd&#39;, haystack=data )
print pos != NULL
</code></pre>

<p>注意，以后改变已存在的参数名，是一个向后的不兼容API修改，<br/>
对于Python代码。因此，如果你提供自己的外部C/C++函数的声明，这通常值得花点时间去选择函数参数名。</p>

<h2 id="toc_9">3使用C库</h2>

<p>除了写快速代码，另一个使用Cython的主要原因是从Python代码中调用外部C库。因为Cython代码自己编辑成C代码，所以的却在代码中直接可以调用C函数。下面给了一个完整的在Python代码中使用外部C库的例子，包括合适的错误处理和为Python/Cython代码设计一个合适的API接口。</p>

<p>想象你需要一个有效的方法在一个FIFO队列存储整数值。因为内存关系，这些值来自于C代码，你不能创建和存储Python整型对象在列表或队列中。所以你需要在C中寻找一个队列来实现。</p>

<p>在网络搜索后，你发现C-algorithms库，然后决定去使用它的双精度双端队列实施。为了使处理更加容易，但是，你决定把它包在能够封装所有内存管理的Python扩展类型。</p>

<h3 id="toc_10">3.1定义外部声明</h3>

<p>队列实施的C API，在头文件<code>libcalg/queue.h</code> 下定义，基本上看上去像这样：</p>

<pre><code class="language-{.sourceCode">/* file: queue.h */

typedef struct _Queue Queue;
typedef void *QueueValue;

Queue *queue_new(void);
void queue_free(Queue *queue);

int queue_push_head(Queue *queue, QueueValue data);
QueueValue queue_pop_head(Queue *queue);
QueueValue queue_peek_head(Queue *queue);

int queue_push_tail(Queue *queue, QueueValue data);
QueueValue queue_pop_tail(Queue *queue);
QueueValue queue_peek_tail(Queue *queue);

int queue_is_empty(Queue *queue);
</code></pre>

<p>好，开始，第一步是重新定义在<code>.pxd</code> 文件中的C API，执行， cqueue.pxd:</p>

<pre><code class="language-{.sourceCode"># file: cqueue.pxd

cdef extern from &quot;libcalg/queue.h&quot;:
    ctypedef struct Queue:
        pass
    ctypedef void* QueueValue

    Queue* queue_new()
    void queue_free(Queue* queue)

    int queue_push_head(Queue* queue, QueueValue data)
    QueueValue  queue_pop_head(Queue* queue)
    QueueValue queue_peek_head(Queue* queue)

    int queue_push_tail(Queue* queue, QueueValue data)
    QueueValue queue_pop_tail(Queue* queue)
    QueueValue queue_peek_tail(Queue* queue)

    bint queue_is_empty(Queue* queue)
</code></pre>

<p>注意这些声明是多么与头文件声明相似，所以你经常只要拷贝它们。但是你不需要提供上面的所有声明，只需在你的代码或其他声明中使用的那些，以至于Cython能看到充分和持久的它们的子集。然后，考虑改编在某种程度上改编它们使在Cython更加舒服的工作。<br/>
特别的，你需要注意为C函数选择好的参数名，因为Cython允许你把它们当做关键参数。以后改变已存在的参数名，是一个向后的不兼容API修改。选择好的名字将会使函数更加好的与Cython代码工作。</p>

<h2 id="toc_11">4扩展类型</h2>

<p>为了支持面向对象编程，Cython支持常规的Python类，与在Python中完全一样：</p>

<pre><code class="language-{.sourceCode">class MathFunction(object):
    def __init__(self, name, operator):
        self.name = name
        self.operator = operator

    def __call__(self, *operands):
        return self.operator(*operands)
</code></pre>

<p>虽然Cython基于Python的内建类型(built-in<br/>
type)，但是，Cython也支持第二种类：扩展类型，有时候被称为cdef类型，由于用于声明的关键词。相比于Python类型，它们有些限制，但是比一般的Python<br/>
类型有更高的内存使用效率和速度。它们之间的主要差别是扩展类型使用C<br/>
struct存储字段和方法，而不是Python字典。这允许扩展类型在字段中存储任意C类型，而不需要Python包装器，并且直接从C级别传递字段和方法，而不需要通过Python字典查找。</p>

<p>常规的Python类能够从cdef类继承，但是不是倒过来。Cython需要知道完整的继承层次来安排C<br/>
struct，并且限制为单继承。常规的Python类，另一方面，可以从任何Python类型和扩展类型，可以在Cython代码或者纯Python代码中。</p>

<p>目前为止，我们的积分例子还没有完全游泳，因为它只集成了单一的硬编码函数。为了改进，几乎不牺牲速度，我们使用cdef类型来代替函数：</p>

<pre><code class="language-{.sourceCode">cdef class Function:
    cpdef double evaluate(self, double x) except *:
        return 0
</code></pre>

<p>命令cdef使两种版本都可以；一种用Cython，很快，另一种用Python，很慢：</p>

<pre><code class="language-{.sourceCode">cdef class Sin0fSquareFunction(Function):
    cpdef double evaluate(self, double x) except *:
        return sin(x**2)
</code></pre>

<p>这个不仅仅提供了cdef方法的Python包装器：与<br/>
cdef方法不同，cpdef方法完全被在Python子集中的方法和实例属性重载。它增加一点调用开销相比于cdef方法。<br/>
使用这种方法，我们现在可以改变我们的积分例子：</p>

<pre><code class="language-{.sourceCode">def integrate( Function f, double a, double b, int N):
    cdef int i
    cdef double s, dx
    if f is None:
        raise ValueError(&quot;f cannot be None&quot;)
    s = 0
    dx = (b -a)/N
    for i in xrange(N):
        s += f.evaluate(a + i*dx)
    return s*dx
</code></pre>

<p>这几乎与前面代码速度一样快，但是这可以更加灵活改变积分函数。我们甚至可以传递一个新的定义在<code>Python-space</code><br/>
的函数：</p>

<pre><code class="language-{.sourceCode">&gt;&gt;&gt; import integrate
&gt;&gt;&gt; class MyPolynomial(integrate.Function):
...     def evaluate(self, x):
...         return 2*x*x + 3*x - 10
...
&gt;&gt;&gt; integrate(MyPolynomial(), 0, 1, 10000)
-7.8335833300000077
</code></pre>

<p>这大约慢了20倍，但是还是比原来的纯Python代码快10倍。我们可以看到当循环有Python代码转换到Cython代码时，可以轻易的加速。</p>

<h2 id="toc_12">5pxd文件</h2>

<p>除了<code>.pyx</code> 源文件，Cython使用<code>.pxd</code><br/>
文件，能够想C头文件那样工作——他们包含Cython声明（有时候还有代码），只有在被Cython模块加载时才有意义。pxd文件可以导入到pyx模块使用cimport关键词。</p>

<p>pxd文件有许多使用方案：</p>

<ol>
<li> 可以用作分享外部C声明</li>
<li> 保存适合C编译器内联的函数，例如:</li>
</ol>

<pre><code class="language-{.sourceCode">cdef inline int int_min(int a, int b):
    return b if b &lt; a else a
</code></pre>

<ol>
<li> 当陪同同等<code>pyx</code>
文件，它们提供一个Cython界面给Cython模块，可以让其他Cython模块使用更加有效的协议来沟通</li>
</ol>

<p>在我们的积分例子中，我们可以分为几个pxd文件，如下：</p>

<ol>
<li> 增加一个<code>cmath.pxd</code>函数，从C
math.h头文件定义C函数，例如sin。在<code>integrate.pyx</code>中导入：from cmath
cimport sin</li>
<li> 增加一个<code>integrate.pxd</code>，让在Cython中的其他模块能够快速自定义函数来积分</li>
</ol>

<pre><code class="language-{.sourceCode">cdef class Function:
    cpdef evaluate( self, double x)
cpdef integrate(Function f, double a, double b, int N)
</code></pre>

<p>注意如果你有有属性的cdef类，属性必须在类声明pxd文件中声明(如果用了pxd文件的话)，而不是<code>pyx</code><br/>
。编译器也会告诉你。</p>

<h2 id="toc_13">6注意事项</h2>

<p>因为Cython混合了C和Python语义，有些东西可能令人惊讶或者不直观。工作一直在进行，使Cython对于Python使用者更加自然，所以下面的list可能在改变。<br/>
10**-2 == 0， 而不是像Python中的0.01 需要注意无符号类型 Python<br/>
float类型包装为C double类型，Python int类型 包装为C long类型。<br/>
(未完待续)</p>


    

      </div>

      <div class="row">
        <div class="large-6 columns">
        <p class="text-left" style="padding:15px 0px;">
      
          <a href="14972346598752.html" 
          title="Previous Post: ---">&laquo; ---</a>
      
        </p>
        </div>
        <div class="large-6 columns">
      <p class="text-right" style="padding:15px 0px;">
      
          <a  href="14972346598911.html" 
          title="Next Post: ---">--- &raquo;</a>
      
      </p>
        </div>
      </div>
      <div class="comments-wrap">
        <div class="share-comments">
          <div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://techlarry-1.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                                

          

          
        </div>
      </div>
    </div><!-- article-wrap -->
  </div><!-- large 8 -->




 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <div class="site-a-logo"><img src="http://or9a8nskt.bkt.clouddn.com/figure.jpeg" /></div>
            
                <h1>techlarry</h1>
                <div class="site-des">他山之石，可以攻玉</div>
                <div class="social">










<a target="_blank" class="email" href="mailto:wang.zhen.hua.larry@gmail.com" title="Email">Email</a>
  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="Python%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80.html"><strong>Python语法基础</strong></a>
        
            <a href="Python%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.html"><strong>Python数据结构与算法</strong></a>
        
            <a href="Python%E9%AB%98%E7%BA%A7%E7%BC%96%E7%A8%8B.html"><strong>Python高级编程</strong></a>
        
            <a href="%E7%82%B9%E7%82%B9%E6%BB%B4%E6%BB%B4.html"><strong>点点滴滴</strong></a>
        
            <a href="%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html"><strong>机器学习</strong></a>
        
            <a href="Linux%20%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B.html"><strong>Linux 系统编程</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="14972346600075.html">---</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14972346600167.html">---</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14972346600241.html">---</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14972346600315.html">---</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="14972346600391.html">---</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>


  </body>
</html>
