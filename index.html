<!doctype html>
<html class="no-js" lang="en">
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?fdc936c9f5a3b72177541183cdeb8cb3";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  techlarry
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="techlarry" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:larryim.cc ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="_self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        <li id=""><a target="_self" href="about.html">About</a></li>
        
        <li id=""><a target="_self" href="category.html">Category</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; techlarry</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="_self" href="index.html">Home</a></li>
        
        <li><a target="_self" href="archives.html">Archives</a></li>
        
        <li><a target="_self" href="about.html">About</a></li>
        
        <li><a target="_self" href="category.html">Category</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="Leetcode.html">Leetcode</a></li>
        
            <li><a href="C/C++.html">C/C++</a></li>
        
            <li><a href="Python%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.html">Python数据结构与算法</a></li>
        
            <li><a href="Python%E7%89%B9%E6%80%A7.html">Python特性</a></li>
        
            <li><a href="%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html">机器学习</a></li>
        
            <li><a href="Python%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97%E4%B8%89%E7%BB%B4%E5%8F%AF%E8%A7%86%E5%8C%96.html">Python科学计算三维可视化</a></li>
        
            <li><a href="English.html">English</a></li>
        
            <li><a href="Computer%20System.html">Computer System</a></li>
        
            <li><a href="Deep%20Learning.html">Deep Learning</a></li>
        
            <li><a href="Latex.html">Latex</a></li>
        
            <li><a href="%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html">操作系统</a></li>
        
            <li><a href="Linux%20%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B.html">Linux 系统编程</a></li>
        
            <li><a href="%E6%95%B0%E6%8D%AE%E5%BA%93.html">数据库</a></li>
        
            <li><a href="Tensorflow.html">Tensorflow</a></li>
        
            <li><a href="Data%20Science.html">Data Science</a></li>
        
            <li><a href="Big%20Data.html">Big Data</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="Spark_introduction.html">
                
                  <h1>Spark</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p><code>Spark</code>是一个用来实现快速而通用的集群计算的平台。<code>Spark</code>扩展了广泛使用的<code>MapReduce</code>计算模型，而且高效地支持更多计算模式，包括交互式查询和流处理。</p>

<h2 id="toc_0">Reference</h2>

<ul>
<li>Holden Karau, Andy Konwinski, Patrick Wendell, et al. 2015. Learning Spark: Lightning-Fast Big Data Analysis. O&#39;Reilly Media</li>
<li></li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/10/29</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Big%20Data.html'>Big Data</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="C++baics.html">
                
                  <h1>C++ Basics</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p>The article summarizes the key points, concepts of C++, with detailed examples, from a C Programmer standpoint.</p>

<ul>
<li>
<a href="#toc_0">C++ Advantage</a>
</li>
<li>
<a href="#toc_1">C++ is better than C</a>
</li>
<li>
<a href="#toc_2">Overloading</a>
</li>
<li>
<a href="#toc_3">Generics</a>
<ul>
<li>
<a href="#toc_4">Multiple template arguments</a>
</li>
<li>
<a href="#toc_5">Overloading Operator</a>
</li>
</ul>
</li>
<li>
<a href="#toc_6">Natural way to build widgets: <code>class</code></a>
</li>
<li>
<a href="#toc_7">Constructor and destructor</a>
<ul>
<li>
<a href="#toc_8">Copy Constructor</a>
</li>
<li>
<a href="#toc_9">Destructor</a>
</li>
</ul>
</li>
<li>
<a href="#toc_10">Scope and storage class</a>
</li>
<li>
<a href="#toc_11">Memory Management</a>
</li>
<li>
<a href="#toc_12">Reference</a>
</li>
</ul>


<h2 id="toc_0">C++ Advantage</h2>

<ul>
<li>safe cast

<ul>
<li><code>static cast &lt;type&gt;</code></li>
</ul></li>
<li><code>for</code> statement can include declaration initializer</li>
<li><code>endl</code> io-manipulator can be placed in an iostream.</li>
</ul>

<h2 id="toc_1">C++ is better than C</h2>

<ul>
<li>More <code>type safety</code>(the extent to which a programming language discourages or prevents type errors)

<ul>
<li>The new operator returns a pointer of a specific type based on the operand, versus the void pointer from C&#39;s <code>malloc</code>.</li>
<li>Certain code written in C that uses void pointers can be rewritten using C++ templates to give a type to an argument whose type is variable.</li>
<li>Using <code>static_cast</code> and <code>dynamic_cast</code></li>
</ul></li>
<li>More Libraries

<ul>
<li>STL(Standard Template Library)</li>
</ul></li>
<li>Less reliance on preprocessor

<ul>
<li><code># define</code>  goes away, easy to use <code>const &lt;type&gt;</code> and <code>inline</code> (substitute macros in C)instead.</li>
</ul></li>
<li>OO vs imperative

<ul>
<li>OO is better</li>
</ul></li>
<li><code>namespace</code></li>
<li>safe cast 

<ul>
<li>using <code>static_cast &lt;type&gt;</code></li>
</ul></li>
<li><code>iostream</code></li>
<li>Declarations anywhere including

<ul>
<li>for-statement initialization</li>
</ul></li>
</ul>

<h2 id="toc_2">Overloading</h2>

<p><code>Overloaded functions</code> are an important polymorphic mechanism in C++. <code>signature matching algorithm</code> decides the way to pick the appropriate functions.</p>

<p><strong><code>Basic Signature Matching Algorithm</code></strong>:</p>

<ul>
<li>Use an exact match if found.</li>
<li>Try standard type promotions.</li>
<li>Try standard type conversions.</li>
<li>Try user-defined conversions.</li>
<li>...</li>
</ul>

<p><strong>Example: Swap in C</strong> </p>

<pre><code class="language-C"> //first swap function
 //Call by reference simulated with pointers
 void swap(int* i, int* j){
    int temp=*i;
    *i=*j;
    *j=temp;
 }

//second swap function
//Call by reference simulated with pointers
void swap_double(double* i, double* j){ 
    double temp=*i;
    *i=*j;
    *j=temp;
 }
 
 int main()
 {
    int m=5, n=10;
    double x=5.3, y=10.6;
    printf(&quot;inputs:%d, %d\n&quot;, m,n);
    swap_double(&amp;m, &amp;n);
    printf(&quot;outputs:%d, %d\n&quot;, m,n);
    printf(&quot;double inputs:%lf, %lf\n&quot;, x,y);
    swap_double(&amp;x, &amp;y);
    printf(&quot;double outputs: %lf, %lf\n&quot;, x, y);
}
</code></pre>

<p>In C each function in a given scope most have a unique name(no function overloading).</p>

<ul>
<li>C: Call by reference simulated with pointers (the previous example)</li>
<li>C++: Call by reference argument passing (see the example below)</li>
</ul>

<p><strong>Example: Swap in C++</strong>:</p>

<pre><code class="language-C++">#include &lt;iostream&gt;
using namespace std;

// iostream type safe and intuitive convinient.

inline void swap(int &amp;i, int &amp;j){ // call by reference, reference to int
        int temp = i;
        i = j;
        j = temp;
}

inline void swap(double &amp;i, double &amp;j){
        double temp = i;
        i = j;
        j = temp;
}

int main()
{
        int m=5, n=10;
        double x = 5.3, y=10.6;
        cout &lt;&lt; &quot;inputs: &quot; &lt;&lt; m &lt;&lt; &quot;,&quot; &lt;&lt; n &lt;&lt; endl;
        swap(m,n);
        cout &lt;&lt; &quot;outputs: &quot; &lt;&lt; m &lt;&lt; &quot;,&quot; &lt;&lt; n &lt;&lt; endl;

        cout &lt;&lt; &quot;double inputs: &quot; &lt;&lt; x &lt;&lt; &quot;,&quot; &lt;&lt; y &lt;&lt; endl;
        swap(x,y);
        cout &lt;&lt; &quot;outputs: &quot; &lt;&lt; x &lt;&lt; &quot;,&quot; &lt;&lt; y &lt;&lt; endl;
}
</code></pre>

<ul>
<li>Having the same name for conceptually the same activity promotes readable code.</li>
<li>Overloading based on signature and the use of generics(<code>template</code>) is a powerful reuse mechanism.</li>
</ul>

<h2 id="toc_3">Generics</h2>

<p>Generics in C++: programing using templates.</p>

<ul>
<li>The compiler uses <code>template</code> to write code appropriate to each set of parameters.</li>
<li>The \(m\), \(n\) parameters are ints - so the compiled code is <code>swap(int&amp;, int&amp;)</code> signature.</li>
<li>Similarly, for the other two signatures. So the compiler is compiling code appropriate to each distinct signature.</li>
</ul>

<p><strong>Example: Swap Using templates</strong>:</p>

<pre><code class="language-C++">#include &lt;iostream&gt;
#include &lt;complex&gt;

using namespace std;

template &lt;class T&gt;
inline void swaps(T&amp; d, T&amp; s)
{
        T temp=d;
        d = s;
        s = temp;
}

int main()
{
        int m=5, n=10;
        double x=5.3, y=10.6;
        complex&lt;double&gt; r(2.4, 3.5), s(3.4, 6.7);
        cout &lt;&lt; &quot;inputs: &quot; &lt;&lt; m &lt;&lt; &quot;,&quot; &lt;&lt; n &lt;&lt; endl;
        swaps(m,n);
        cout &lt;&lt; &quot;outputs:&quot; &lt;&lt; m &lt;&lt; &quot;,&quot; &lt;&lt; n &lt;&lt; endl;

        cout &lt;&lt; &quot;complex double inputs: &quot; &lt;&lt; r &lt;&lt; &quot;,&quot; &lt;&lt; s &lt;&lt; endl;
        swaps(r,s);
        cout &lt;&lt; &quot;complex double outputs:&quot; &lt;&lt; r &lt;&lt; &quot;,&quot; &lt;&lt; s &lt;&lt; endl;
}
</code></pre>

<p>Another example, how in C do you write a function to sum a array in doubles?</p>

<p><strong>Example: Sum a array in C</strong>:</p>

<pre><code class="language-C">double sum(double data[], int size)
{
    double s =0.0;
    int i;
    for (i=0; i&lt;size; i++)
        s += data[i];
    return s;        
</code></pre>

<p>Generic programming:</p>

<ul>
<li>writing code that can use an arbitrary type or types; in C++ this is done with template.</li>
</ul>

<p><strong>Example: Sum a array in C++ Using template</strong>:</p>

<pre><code class="language-C++">template &lt;class T&gt; //T is generic type
T sum(const T data[], int size, T s=0)
{
    for (int i=0; i&lt;size; ++i)
        s += data[i]; // += must work for T
    return s;
}

int main()
{
    cout &lt;&lt; &quot;template for sum()&quot; &lt;&lt; endl;
    int a[] = {1,2,3};
    double b[] = {2.1, 2.2, 2.3};
    cout &lt;&lt; sum(a,3) &lt;&lt; endl;
    cout &lt;&lt; sum(b,3) &lt;&lt; endl;
}
</code></pre>

<h3 id="toc_4">Multiple template arguments</h3>

<ul>
<li>We have used templates with one template parameter, but it is useful to have more that one distinct type in a template.</li>
<li>More genericity - but be careful!</li>
</ul>

<p><strong>Type safety</strong>:</p>

<ul>
<li>More types means worrying about conversions and more signatures</li>
<li>There <code>static_cast</code> operators are considered safe.</li>
<li>The old cast operator (type) is deprecated as a reminder the other casting operators are:

<ul>
<li><code>reinterpret_cast&lt;type&gt;</code> highly unsafe</li>
<li><code>dynamic_cast&lt;type&gt;</code> used with classes</li>
<li><code>const_cast&lt;type&gt;</code> cast away const-ness</li>
</ul></li>
</ul>

<h3 id="toc_5">Overloading Operator</h3>

<p>Unary and binary operators can be overloaded as nonstatic member functions. Implicitly, they are acting on a class value.</p>

<pre><code class="language-C++">#include&lt;iostream&gt; 
#include&lt;cstdint&gt; 

using namespace std;

enum class days:std::int8_t 
{SUN,MON,TUE,WED,THU,FRI,SAT};

//unlike plain enums C++11 enum class is typesafe and does not silently 
//convert to int

ostream&amp; operator&lt;&lt;(ostream&amp; out, const days&amp; d)  // call by reference 
{
    switch (d){
        case days::SUN: out&lt;&lt; &quot;SUN&quot;; break;
        case days::MON: out&lt;&lt; &quot;MON&quot;; break;
        case days::TUE: out&lt;&lt; &quot;TUE&quot;; break;
        case days::WED: out&lt;&lt; &quot;WED&quot;; break;
        case days::THU: out&lt;&lt; &quot;THU&quot;; break;
        case days::FRI: out&lt;&lt; &quot;FRI&quot;; break;
        case days::SAT: out&lt;&lt; &quot;SAT&quot;; break;
    }
    return out;
}

days operator++(days&amp; d) //PREFIX OPERATOR 
{ 
    d = static_cast&lt;days&gt;((static_cast&lt;int&gt;(d) + 1) % 7); 
    return d;
}

days operator++(days&amp; d, int) //POSTFIX OPERATOR 
{
    days temp = d;
    d = static_cast&lt;days&gt;((static_cast&lt;int&gt;(d) + 1) % 7);
    return temp; 
}

int main(){
    days today{days::MON};
    std::cout &lt;&lt; &quot;Demonstrate class enum&quot; &lt;&lt; std::endl; 
    std::cout &lt;&lt; &quot;MONDAY VALUE IS &quot; &lt;&lt; today &lt;&lt; std::endl;
    std::cout &lt;&lt; &quot;INCREMENT VALUE IS &quot; &lt;&lt; ++today &lt;&lt; std::endl; 
    std::cout &lt;&lt; &quot;INCREMENT VALUE IS &quot; &lt;&lt; today++ &lt;&lt; std::endl; 
    std::cout &lt;&lt; &quot;INCREMENT VALUE IS &quot; &lt;&lt; today &lt;&lt; std::endl; 
    return 0;
}

</code></pre>

<h2 id="toc_6">Natural way to build widgets: <code>class</code></h2>

<p><strong>C type extension</strong>:</p>

<ul>
<li>In C you can &#39;add&#39; a type using <code>struct</code></li>
<li>In C++ <code>struct</code> is different - <code>struct</code> is a named scope that can include functions (methods) and have different layers of opacity (data hiding). While C++ retains <code>struct</code> it has the new keyword <code>class</code>.</li>
<li><code>class</code> is almost equivalent to <code>struct</code> - but with different data hiding defaults.</li>
</ul>

<pre><code class="language-C++">typedef struct point {double x,y;} point;
void add_points(point* p1, point* p2, point* sum)
{
    sum -&gt; x = p1 -&gt; x + p2 -&gt; x;
    sum -&gt; y = p1 -&gt; y + p2 -&gt; y;
}
</code></pre>

<ul>
<li>C struct has fields - data members;</li>
<li>File scope functions manipulate the struct using pointer operations</li>
</ul>

<p><strong>Naive C++ point</strong></p>

<pre><code class="language-C++">class point{
    public:
        double x,y;
};
</code></pre>

<ul>
<li><code>public</code>, <code>private</code>, <code>protected</code> are access keywords.</li>
</ul>

<p><strong>Better C++ Point</strong>:</p>

<pre><code class="language-C++">#include &lt;iostream&gt;
using namespace std;

class point{
    public:
        double getx(){return x;} // access methods
        void setx(double v){x = v;} // mutate methods 
        double x,y; 
};

point operator+(point&amp; p1, point&amp; p2){
    point sum={p1.x + p2.x, p1.y+p2.y};
    return sum;
}

ostream&amp; operator&lt;&lt;(ostream&amp; out, const point&amp;p){
    out &lt;&lt; &quot;(&quot; &lt;&lt; p.x &lt;&lt; &quot;,&quot; &lt;&lt; p.y &lt;&lt;&quot;)&quot;;
    return out;
}

int main()
{
    point a = {3.5, 2.5}, b={2.5, 4.5}, c;
    cout &lt;&lt; &quot;a=&quot; &lt;&lt; a &lt;&lt; &quot; b= &quot; &lt;&lt; b &lt;&lt; endl;
    cout &lt;&lt; &quot;sum= &quot; &lt;&lt; a+b &lt;&lt; endl;
}

// reuslt is 
//a=(3.5,2.5) b= (2.5,4.5)
//sum= (6,7)
</code></pre>

<p><strong>class - User defined types</strong>:</p>

<ul>
<li>Using point in <code>main()</code> looks very much like using a native type.</li>
<li>Indeed this is one of our key goal in Object Oriented Programming.</li>
<li>We accomplished this by having point be a class -- a user defined type. We overload the standard operators like + and &lt;&lt; to give them appropriate &quot;point&quot; semantics.</li>
</ul>

<p><strong>Methods</strong>:</p>

<ul>
<li>Class member functions have automatic access to private members.</li>
<li><code>p1.getx()</code>, <code>p1.setx(3.5)</code></li>
</ul>

<h2 id="toc_7">Constructor and destructor</h2>

<p>A <code>constructor</code> is a member function whose name is the same as the class name; it creates objects of the class type. This process involves initializing data members and, frequently, allocating storage from the heap by using <code>new</code>.</p>

<p><code>default constructor</code> does not requires a initializing value(no arguments),</p>

<pre><code class="language-C++">class point{
    public:
        //constructor, initializer list
        point(double x=0.0, double y=0.0): x(x), y(y){} 
        double getx(){return x;}
        void setx(double v){x=v;}
    private:
        double x,y;
};
</code></pre>

<p><strong>A special method constructor</strong>:</p>

<ul>
<li><code>point(){x=y=0.0;}</code>: ordinary assignment</li>
<li><code>point(){this-&gt;x=0.0; this-&gt;y=0.0}</code> :initialized list</li>
<li><code>point():x(0.0), y(0.0){}</code> : best way</li>
<li>Default constructor - the constructor whose signature is void.</li>
</ul>

<p><strong>Constructor overloading</strong>:</p>

<ul>
<li>It is useful to have multiple ways to initialize an object like point.</li>
<li><code>point(double x, double y)</code></li>
<li><code>{this -&gt; x=x; this-&gt;y=y};</code></li>
</ul>

<p>It is also the case that usually there are several constructors per class. Each constructor signature represents a useful way to declare and initialize an object of that type.</p>

<p><strong>Example: Improved Points Using constructor</strong></p>

<pre><code class="language-C++">#include &lt;iostream&gt;

using namespace std;

class point{
    public:
        point(): x(0), y(0) {} //default
        point(double u): x(u), y(0) {} //double to point
        point(double u, double v): x(u), y(v) {}
        void print() const { cout &lt;&lt; &quot;(&quot; &lt;&lt; x &lt;&lt; &quot;,&quot; &lt;&lt; y &lt;&lt; &quot;)&quot;; }
        void set(double u, double v) {x =u; y=v;}
        void plus(point c) {x += c.x; y+=c.y;}
    private:
        double x, y;
};


double parabola(double x, double p)
{
    return (x*x)/p;
}

void graph(double a, double b, double incr, 
    double f(double, double), double p, point gr[])
{
    double x = a;
    for (int i=0; x &lt;=b; ++i, x += incr)
        gr[i].set(x, f(x, p));
}


const int no_of_pts = 20;


int main()
{
    point g[no_of_pts]; // use default ctor

    graph(0, 2, 0.1, parabola, 5, g);
    cout &lt;&lt; &quot;First 20 samples:&quot; &lt;&lt; endl;
    for (int i=0; i&lt; no_of_pts; ++i)
    {
        g[i].print();
        if (i%5==4)
            cout &lt;&lt; endl;
        else
            cout &lt;&lt; &quot;  &quot;;
    }
}
</code></pre>

<h3 id="toc_8">Copy Constructor</h3>

<p>For class types, call-by-value requires a <code>copy constructor</code>. The compiler provides a copy constructor whose signature is <code>class_name:: class_name(const class_name &amp;)</code></p>

<h3 id="toc_9">Destructor</h3>

<p>A <code>destructor</code> is a member function whose name is the class preceded by the tilde character, <code>~</code>. The destructor is implicitly invoked on block and function exit to clean up storage no longer accessible.</p>

<p><strong>Example:List</strong>:</p>

<pre><code>
</code></pre>

<h2 id="toc_10">Scope and storage class</h2>

<p>The C++ has two principle forms of scope: <code>local scope</code> and <code>file scope</code>. <code>Local scope</code> is scoped to a block(e.g. compound statements, function bodies). <code>File scope</code> has names that are external(global).  </p>

<p>The four storage classes are <code>auto</code>, <code>extern</code>, <code>register</code>, and <code>static</code>.</p>

<p><strong><code>auto</code></strong>:</p>

<ul>
<li>allocated within a block, and its lifetime is limited to the execution of that block.</li>
</ul>

<p><strong><code>register</code></strong>:</p>

<ul>
<li>tells the compiler that the associated variables should be stored in high-speed memory registers</li>
</ul>

<p><strong><code>static</code></strong>:</p>

<ul>
<li><code>static</code> variables retain its previous value when the block is reentered.</li>
<li><code>static</code> functions are visible only within the file in which they are defined.</li>
</ul>

<h2 id="toc_11">Memory Management</h2>

<p>In C++:</p>

<ul>
<li><code>new</code> (allocator) instead of <code>malloc()</code> in C </li>
<li><code>delete</code> (deallocator) instead of <code>free()</code> in C</li>
<li>Both work with a heap -- heap is dynamically allocated memory - unlike Java not automatically garbage collected.</li>
</ul>

<p><strong>Simple use of <code>new</code> and <code>delete</code></strong>:</p>

<pre><code class="language-C++">char* s = new char[size]; //get of heap
int* p = new int(9); //single int initialized
delete [] s; //delete an array
delete p; //delete single element

// These will get used with dynamic data structures 
// in constructors and destructors
</code></pre>

<h2 id="toc_12">Reference</h2>

<ul>
<li>Ira Pohl. C++ for C Programmers,University of California, Santa Cruz</li>
<li>Ira Pohl. <a href="https://users.soe.ucsc.edu/%7Epohl/">C++ by Dissection</a>.</li>
</ul>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/10/28</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='C/C++.html'>C/C++</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="C_language.html">
                
                  <h1>C Basics</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">C 语言的各种版本</h2>

<p><img src="media/15091487975421/15091488073990.png" alt=""/></p>

<p>广泛应用的仍然是<code>ANSI C</code>(C89).</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/10/28</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='C/C++.html'>C/C++</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="hardware/software_interface.html">
                
                  <h1>Hardware/Software Interface</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p><code>Hardware/Software Interface</code>是由华盛顿大学在Coursera上开设的课程，与华盛顿大学CSE351课程保持一致。虽然目前这门课已经在Coursera下线，但完整视频、作业、实验仍旧在华盛顿大学<a href="https://courses.cs.washington.edu/courses/cse351/17sp/videos.html">CSE351课程主页</a>上可以观看和下载。</p>

<p>完成课程实验需要用到特定的环境，不然配置起来及其繁琐。幸好，可以下载已经配置好的虚拟机进行实验。虚拟机的地址目前仍旧有效，点击<a href="https://spark-public.s3.amazonaws.com/hardware/VM.7z">这里</a>下载(<code>MD5: 9A2A35B58FF716A84F17610FDEC972EC</code>)。</p>

<p>课程所用教科书是<code>CSAPP</code>(Computer System: A programmer&#39;s Perspective)第二版。非常幸运，教科书、作业和实验内容以及答案已经有人专门整理，并放在Github上了，可以直接<a href="https://github.com/ldfaiztt/CSE351">点击</a>下载。</p>

<p>下载完所有资料后，尽情的学习吧！</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/10/26</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Computer%20System.html'>Computer System</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15089188725996.html">
                
                  <h1>Linux 内存布局</h1>
                  <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<p><img src="media/15089188725996/15089292733459.png" alt=""/></p>

<p>典型内存空间布局<br/>
一个典型的Linux C程序内存空间由如下几部分组成：</p>

<ul>
<li>代码段（<code>.text</code>）。这里存放的是CPU要执行的指令。代码段是可共享的，相同的代码在内存中只会有一个拷贝，同时这个段是只读的，防止程序由于错误而修改自身的指令。</li>
<li>初始化数据段（<code>.data</code>）。这里存放的是程序中需要明确赋初始值的变量，例如位于所有函数之外的全局变量：<code>int val=&quot;100</code>。需要强调的是，以上两段都是位于程序的可执行文件中，内核在调用exec函数启动该程序时从源程序文件中读入。</li>
<li>未初始化数据段（<code>.bss</code>）。位于这一段中的数据，内核在执行该程序前，将其初始化为0或者null。例如出现在任何函数之外的全局变量：int sum;</li>
<li>栈（<code>Stack</code>）。函数中的局部变量以及在函数调用过程中产生的临时变量都保存在此段中。</li>
<li>堆（<code>Heap</code>）。这个段用于在程序中进行动态内存申请，例如经常用到的malloc，new系列函数就是从这个段中申请内存。</li>
</ul>

<pre><code class="language-C"> #include&lt;stdio.h&gt;    
 #include &lt;malloc.h&gt;    
     
 void print(char *,int);    
 int main()    
{    
      char *s1 = &quot;abcde&quot;;  //&quot;abcde&quot;作为字符串常量存储在常量区 s1、s2、s5拥有相同的地址  
      char *s2 = &quot;abcde&quot;;    
      char s3[] = &quot;abcd&quot;;    
      long int *s4[100];    
      char *s5 = &quot;abcde&quot;;    
      int a = 5;    
      int b =6;//a,b在栈上，&amp;a&gt;&amp;b地址反向增长    
     
     printf(&quot;variables address in main function: s1=%p  s2=%p s3=%p s4=%p s5=%p a=%p b=%p \n&quot;,     
             s1,s2,s3,s4,s5,&amp;a,&amp;b);   
     printf(&quot;variables address in processcall:n&quot;);    
        print(&quot;ddddddddd&quot;,5);//参数入栈从右至左进行,p先进栈,str后进 &amp;p&gt;&amp;str    
     printf(&quot;main=%p print=%p \n&quot;,main,print);    
     //打印代码段中主函数和子函数的地址，编译时先编译的地址低，后编译的地址高main&lt;print    
 }    
  
 void print(char *str,int p)    
{    
     char *s1 = &quot;abcde&quot;;  //abcde在常量区，s1在栈上    
     char *s2 = &quot;abcde&quot;;  //abcde在常量区，s2在栈上 s2-s1=6可能等于0，编译器优化了相同的常量，只在内存保存一份    
     //而&amp;s1&gt;&amp;s2    
     char s3[] = &quot;abcdeee&quot;;//abcdeee在常量区，s3在栈上，数组保存的内容为abcdeee的一份拷贝    
     long int *s4[100];    
     char *s5 = &quot;abcde&quot;;    
     int a = 5;    
     int b =6;    
     int c;    
     int d;           //a,b,c,d均在栈上，&amp;a&gt;&amp;b&gt;&amp;c&gt;&amp;d地址反向增长    
     char *q=str;   
     int m=p;           
     char *r=(char *)malloc(1);    
     char *w=(char *)malloc(1) ;  // r&lt;w 堆正向增长    
    
     printf(&quot;s1=%p s2=%p s3=%p s4=%p s5=%p a=%p b=%p c=%p d=%p str=%p q=%p p=%p m=%p r=%p w=%p \n&quot;,    
            s1,s2,s3,s4,s5,&amp;a,&amp;b,&amp;c,&amp;d,&amp;str,q,&amp;p,&amp;m,r,w);   
     /* 栈和堆是在程序运行时候动态分配的，局部变量均在栈上分配。 
        栈是反向增长的，地址递减；malloc等分配的内存空间在堆空间。堆是正向增长的，地址递增。   
        r,w变量在栈上(则&amp;r&gt;&amp;w)，r,w所指内容在堆中(即r&lt;w)。*/   
 }    
   
</code></pre>

<h2 id="toc_0">堆和栈区别</h2>

<p><img src="media/15089188725996/15089298484521.jpg" alt=""/></p>

<h2 id="toc_1">参考</h2>

<p><a href="http://blog.csdn.net/zhangzhebjut/article/details/39060253">http://blog.csdn.net/zhangzhebjut/article/details/39060253</a></p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2017/10/25</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='Computer%20System.html'>Computer System</a></span>
          				   
                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="all_1.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <div class="site-a-logo"><img src="http://or9a8nskt.bkt.clouddn.com/figure.jpeg" /></div>
            
                <h1>techlarry</h1>
                <div class="site-des">他山之石，可以攻玉</div>
                <div class="social">









<a target="_blank" class="github" target="_blank" href="https://github.com/techlarry" title="GitHub">GitHub</a>
<a target="_blank" class="email" href="mailto:wang.zhen.hua.larry@gmail.com" title="Email">Email</a>
  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="Leetcode.html"><strong>Leetcode</strong></a>
        
            <a href="C/C++.html"><strong>C/C++</strong></a>
        
            <a href="Python%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95.html"><strong>Python数据结构与算法</strong></a>
        
            <a href="Python%E7%89%B9%E6%80%A7.html"><strong>Python特性</strong></a>
        
            <a href="%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0.html"><strong>机器学习</strong></a>
        
            <a href="Python%E7%A7%91%E5%AD%A6%E8%AE%A1%E7%AE%97%E4%B8%89%E7%BB%B4%E5%8F%AF%E8%A7%86%E5%8C%96.html"><strong>Python科学计算三维可视化</strong></a>
        
            <a href="English.html"><strong>English</strong></a>
        
            <a href="Computer%20System.html"><strong>Computer System</strong></a>
        
            <a href="Deep%20Learning.html"><strong>Deep Learning</strong></a>
        
            <a href="Latex.html"><strong>Latex</strong></a>
        
            <a href="%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F.html"><strong>操作系统</strong></a>
        
            <a href="Linux%20%E7%B3%BB%E7%BB%9F%E7%BC%96%E7%A8%8B.html"><strong>Linux 系统编程</strong></a>
        
            <a href="%E6%95%B0%E6%8D%AE%E5%BA%93.html"><strong>数据库</strong></a>
        
            <a href="Tensorflow.html"><strong>Tensorflow</strong></a>
        
            <a href="Data%20Science.html"><strong>Data Science</strong></a>
        
            <a href="Big%20Data.html"><strong>Big Data</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="Spark_introduction.html">Spark</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="C++baics.html">C++ Basics</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="C_language.html">C Basics</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="hardware/software_interface.html">Hardware/Software Interface</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15089188725996.html">Linux 内存布局</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>


  </body>
</html>
